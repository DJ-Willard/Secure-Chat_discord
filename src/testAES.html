<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test AES Encryption and Decryption</title>
</head>
<body>
    <script src="lib/ArrayBuffer.js"></script>
    <script src="lib/hybridencrypt.js"></script>
    <script>
        // Paste the test code here
        // Define your testing logic here
async function testEncryption() {
    // Generate AES key
    const aesKey = await window.crypto.subtle.generateKey(
        {
            name: "AES-GCM",
            length: 256,
        },
        true,
        ["encrypt", "decrypt"]
    );

    // Define a message to encrypt
    const message = "Hello, world!";

    // Encrypt the message
    const encrypted = await encryptMessage(aesKey, message);
    console.log("Encrypted message:", encrypted.ciphertext);
    console.log("IV:", encrypted.iv);

    // Decrypt the ciphertext
    const decryptedMessage = await decryptMessage(aesKey, encrypted.ciphertext, encrypted.iv);
    console.log("Decrypted message:", decryptedMessage);
}

// Run the testing function after the modules are loaded
testEncryption();

    </script>
</body>
</html>
